# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ MySQL - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã MySQL –¥—Ä–∞–π–≤–µ—Ä—ã
- mysql-connector-python
- pymysql

### 2. –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL
- –ò–º—è –±–∞–∑—ã: `rescue_db`
- –•–æ—Å—Ç: `127.0.0.1:3306`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root`
- –ü–∞—Ä–æ–ª—å: `55646504`

### 3. –°–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `sos_alerts` - —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- `rescue_teams` - –∫–æ–º–∞–Ω–¥—ã —Å–ø–∞—Å–∞—Ç–µ–ª–µ–π
- `notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 4. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ
- ‚úÖ 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã
- –†–æ–ª–∏: admin, coordinator, operator, rescuer (3)
- –õ–∏–¥–µ—Ä –∫–æ–º–∞–Ω–¥—ã: citizen@test.ru

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `.env` —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ MySQL connection string
- `database.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MySQL
- `requirements.txt` –¥–æ–±–∞–≤–ª–µ–Ω—ã MySQL –¥—Ä–∞–π–≤–µ—Ä—ã

## üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

### `create_mysql_database.py`
–°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ MySQL.
```bash
python create_mysql_database.py
```

### `migrate_sqlite_to_mysql.py`
–ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ SQLite –≤ MySQL.
```bash
python migrate_sqlite_to_mysql.py
```

### `check_mysql_db.py`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ MySQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
```bash
python check_mysql_db.py
```

## üöÄ –ö–∞–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É:

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—ç–∫–µ–Ω–¥
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

### 2. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Python
```powershell
Get-ChildItem -Path "backend/app" -Directory -Filter "__pycache__" -Recurse | Remove-Item -Recurse -Force
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫–µ–Ω–¥ –∑–∞–Ω–æ–≤–æ
```powershell
cd backend
& venv\Scripts\Activate.ps1
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```powershell
.\start-backend.ps1
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL
```bash
python check_mysql_db.py
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
```bash
curl http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@test.ru","password":"Test1234"}'
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001/

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MySQL:

–í —Ñ–∞–π–ª–µ `.env`:
```env
DATABASE_URL=mysql+pymysql://root:55646504@127.0.0.1:3306/rescue_db
```

–§–æ—Ä–º–∞—Ç: `mysql+pymysql://username:password@host:port/database`

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î:

```
USERS: 6
- admin@test.ru (admin)
- 123123@gmail.com (coordinator)
- operator@test.ru (operator)
- citizen@test.ru (rescuer, LEADER)
- newuser@test.ru (rescuer)
- rescuer@test.ru (rescuer)

SOS ALERTS: 0
RESCUE TEAMS: 0
NOTIFICATIONS: 0
```

## ‚ùó –í–∞–∂–Ω–æ:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MySQL —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 3306 –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü–∞—Ä–æ–ª—å –≤ .env —Ñ–∞–π–ª–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ä–æ–ª—é MySQL
4. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env —Ñ–∞–π–ª–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫–µ–Ω–¥

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MySQL
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å MySQL
mysql -u root -p55646504 -e "SELECT VERSION();"
```

### –û—à–∏–±–∫–∞ "Access denied"
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å
mysql -u root -p
```

### –¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
python create_mysql_database.py
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MySQL:

1. ‚úÖ –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º
2. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
3. ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
4. ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
5. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏
